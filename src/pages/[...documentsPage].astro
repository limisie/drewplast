---
import { getPageData } from "@lib/data";
import { locales } from "@i18n/ui";
import { getLocaleUrl } from "@i18n/urls";

import MainLayout from "@layouts/MainLayout.astro";
import DocumentsTabs from "@components/DocumentsTabs.astro";
import SectionHeader from "@components/SectionHeader.astro";

export async function getStaticPaths() {
  const data = await getPageData("dokumenty");

  return locales.map((locale) => ({
    params: {
      documentsPage: getLocaleUrl(locale, data[locale].seo.slug),
    },
    props: {
      seo: data[locale].seo,
      sectionHeader: data[locale].sectionHeader,
      categoriesList: data[locale].categoriesList,
    },
  }));
}

const { seo, sectionHeader, categoriesList } = Astro.props;
---

<MainLayout seo={seo}>
  <SectionHeader
    title={sectionHeader.title}
    description={sectionHeader.description}
    eyebrow={sectionHeader.eyebrow}
  >
    <DocumentsTabs categoriesList={categoriesList} />
  </SectionHeader>
</MainLayout>
