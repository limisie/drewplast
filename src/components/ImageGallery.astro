---
import { Image } from "astro:assets";
import { getDynamicImageData } from "@lib/imageImport";
import { defaultLocale } from "@i18n/ui";
import type { Entry } from "@lib/types";

const { imagesList } = Astro.props;
const locale = Astro.currentLocale || defaultLocale;

const imagesData = await Promise.all(
  imagesList.map(async (image: Entry) => await getDynamicImageData(image, locale))
);
---

<div>
  {
    imagesData.map((image) => (
      <div>
        <Image src={image.import()} alt={image.alt} />
      </div>
    ))
  }
</div>
