---
import { getLocalizedCollectionData } from "@lib/data";
import { defaultLocale } from "@i18n/ui";

import Card from "@components/Card.astro";
import HorizontalScroll from "./HorizontalScroll.astro";

const locale = Astro.currentLocale || defaultLocale;
const productsData = await getLocalizedCollectionData("products", locale);
---

<HorizontalScroll class="snap-start">
  {
    productsData.map((product) => (
      <Card
        title={product.title}
        image={product.image}
        url={product.seo.slug}
      />
    ))
  }
</HorizontalScroll>
