---
import LabeledIcon from "@components/LabeledIcon.astro";
import type { Feature } from "@lib/types";

const { featuresList, isWrapped } = Astro.props;
---

<ul class:list={[{wrap: isWrapped}]}>
  {
    featuresList.map((feature: Feature) => (
      <li>
        {typeof feature === "string" ? (
          <LabeledIcon iconName="akar-icons:check" text={feature} class="feature"/>
        ) : (
          <span>{feature.title}</span>
          <p>{feature.description}</p>
        )}
      </li>
    ))
  }
</ul>

<style>
  ul {
    display: flex;
    flex-wrap: wrap;
    align-items: start;
    gap: var(--spacer);

    li {
      flex-basis: 100%;
  
      span {
        display: block;
        margin-top: var(--spacer);
        margin-bottom: calc(0.5 * var(--spacer));
      }
    }
  }

  @media (min-width: 30rem) {
    ul {
      li {
        flex-basis: calc(50% - 0.5 * var(--spacer));
      }

      li:nth-last-child(1):nth-child(odd) {
        flex-basis: 100%;
      }
    }
  }

  @media (min-width: 48rem) {
    ul {
      flex-wrap: nowrap;

      li {
        flex-basis: 100%;
      }
    }

    .wrap {
      flex-wrap: wrap;
    }
  }
</style>